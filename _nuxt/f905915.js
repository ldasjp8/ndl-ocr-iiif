(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{455:function(t,e,n){"use strict";n.r(e);n(91);var r=n(21),c=n(32),o=n(33),l=n(54),d=n(44),f=n(29),v=n(14),h=(n(74),n(18),n(4),n(20),n(208),n(69),n(62),n(430));function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var x=function(t,e,n,desc){var r,c=arguments.length,o=c<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(c<3?r(o):c>3?r(e,n,o):r(e,n))||o);return c>3&&o&&Object.defineProperty(e,n,o),o},k=function(t){Object(l.a)(d,t);var e,n=m(d);function d(){var t;return Object(c.a)(this,d),(t=n.apply(this,arguments)).id="",t.output={},t.status="",t.siteDesc="次世代デジタルライブラリーで公開されているOCR結果をIIIF形式に変換します。",t}return Object(o.a)(d,[{key:"trigger",value:function(t){13===t.keyCode&&this.search()}},{key:"search",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,c,o,output,body;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.id){t.next=3;break}return t.abrupt("return");case 3:return n=(new Date).getTime().toString(),this.status="RUNNING",t.next=7,this.$axios.$post("https://0nqmlna15g.execute-api.us-east-1.amazonaws.com/prod/execution",{input:'{"id": "'.concat(e,'"}'),name:n,stateMachineArn:"arn:aws:states:us-east-1:921043147308:stateMachine:sfn-sam-app-statemachine"});case 7:r=t.sent,c=r.executionArn;case 9:return t.next=12,this.$axios.$post("https://0nqmlna15g.execute-api.us-east-1.amazonaws.com/prod/execution/status",{executionArn:c});case 12:if(o=t.sent,this.status=o.status,"SUCCEEDED"!==o.status){t.next=21;break}return output=JSON.parse(o.output),body=JSON.parse(output.body),this.output=body,t.abrupt("break",28);case 21:if("FAILED"!==o.status){t.next=24;break}return console.log({res:o}),t.abrupt("break",28);case 24:return t.next=26,new Promise((function(t){return setTimeout(t,3e3)}));case 26:t.next=9;break;case 28:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),d}(h.Vue),y=k=x([Object(h.Component)({components:{}})],k),_=n(107),w=n(155),C=n.n(w),O=n(424),j=n(449),R=n(426),D=n(428),E=n(450),$=n(454),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._v(" "),n("v-container",{staticClass:"my-10"},[n("div",{staticClass:"text-center"},[t._v("\n      "+t._s(t.siteDesc)+"\n    ")]),t._v(" "),n("div",{staticClass:"mt-10 text-center"},[n("v-text-field",{attrs:{rounded:"",filled:"",placeholder:"IDを入力してください。 "+t.$t("example")+": 3437686"},on:{"click:append":t.search,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.trigger.apply(null,arguments)}},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{large:"",rounded:"",depressed:"",color:"primary"},on:{click:t.search}},[t._v("\n        "+t._s(t.$t("execution")))]),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{large:"",rounded:"",depressed:"",color:"success"},on:{click:function(e){t.id=3437686}}},[t._v("\n        "+t._s(t.$t("example"))+" 校異源氏物語")]),t._v(" "),n("div",{staticClass:"mt-10"},["RUNNING"===t.status?[n("v-progress-linear",{staticClass:"mt-3",attrs:{indeterminate:"",color:"primary"}})]:"FAILED"===t.status?[t._v("\n          "+t._s(t.$t("failed"))+"\n        ")]:"SUCCEEDED"===t.status?[n("v-row",[n("v-col",[n("v-btn",{staticClass:"info",attrs:{href:"https://mirador.cultural.jp/?manifest="+t.output.manifest,target:"_blank",block:"",rounded:"",depressed:"",large:""}},[t._v("\n                Mirador\n              ")])],1),t._v(" "),n("v-col",[n("v-btn",{staticClass:"info",attrs:{href:"http://codh.rois.ac.jp/software/iiif-curation-viewer/demo/?curation="+t.output.curation,target:"_blank",block:"",rounded:"",depressed:"",large:""}},[t._v("\n                Curation Viewer\n              ")])],1)],1)]:t._e()],2)],1)]),t._v(" "),n("Footer")],1)}),[],!1,null,null,null);e.default=component.exports;C()(component,{VBtn:O.a,VCol:j.a,VContainer:R.a,VProgressLinear:D.a,VRow:E.a,VTextField:$.a})}}]);